{
  "swagger": "2.0",
  "info": {
    "description": "$title definition",
    "version": "$version",
    "title": "$title",
    "termsOfService": "https://www.etherniti.org/docs/terms-of-service/",
    "contact": {
      "email": "core@etherniti.org"
    },
    "license": {
      "name": "Etherniti License",
      "url": "https://www.etherniti.org/docs/license/"
    }
  },
  "host": "$host",
  "basePath": "$basepath",
  "tags": [
    {
    "name": "public",
    "description": "Public Ethereum REST API Proxy operations",
    "externalDocs": {
      "description": "Find out more about Etherniti, an Ethereum REST API public operations at",
      "url": "https://www.etherniti.org/docs/public-operations/"
    }
    },
    {
      "name": "profile",
      "description": "Ethereum REST API Proxy connection profile management",
      "externalDocs": {
        "description": "Find out more about Etherniti, an Ethereum REST API public operations at",
        "url": "https://www.etherniti.org/docs/profile-management/"
      }
    },
    {
      "name": "wallet",
      "description": "Ethereum REST API Proxy wallet service",
      "externalDocs": {
        "description": "Find out more about Etherniti, an Ethereum REST API public operations at",
        "url": "https://www.etherniti.org/docs/wallet/"
      }
    }
  ],
  "schemes": ["http", "https"],
  "paths": {
    "/": {
      "get": {
        "tags": ["public"],
        "summary": "Proxy welcome message",
        "description": "proxy welcome message or index message",
        "operationId": "index",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "parameters": [],
        "responses": {
          "200": {
            "description": "proxy welcome message",
            "schema": {
              "example": {
                "name": "eth-wbapi",
                "description": "Etherniti: Ethereum Multitenant API",
                "cluster_name": "eth-wbapi",
                "version": "0.0.1",
                "env": "development",
                "tagline": "dapps everywhere"
              }
            }
          }
        }
      }
    },
    "/status": {
      "get": {
        "tags": ["public"],
        "summary": "Proxy health status",
        "description": "Read proxy instance interal metrics and health status",
        "operationId": "status",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "parameters": [],
        "responses": {
          "200": {
            "description": "proxy internal metrics collection",
            "schema": {
              "example": {
                "alloc": 1843848,
                "cpus": 2,
                "disk": {
                  "all": 45.61288070678711,
                  "free": 43.18564224243164,
                  "used": 2.4272384643554688
                },
                "frees": 3364,
                "heapalloc": 1843848,
                "mallocs": 6574,
                "numForcedGC": 0,
                "numgc": 3,
                "runtime": {
                  "compiler": "gc",
                  "version": "go1.11.5"
                },
                "sys": 71760120,
                "total": 8893712,
                "version": {
                  "etherniti": "0.0.1",
                  "http": "3.3.10-dev"
                }
              }
            }
          }
        }
      }
    },
    "/integrity": {
      "get": {
        "tags": ["public"],
        "summary": "Check remote proxy integrity status",
        "description": "Get digitally signed integrity message from proxy instance can compare signature validity with provided public key",
        "operationId": "integrity",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "parameters": [],
        "responses": {
          "200": {
            "description": "proxy integrity response",
            "schema": {
              "example": {
                "hash": "7b5812166a5d17d92b8a1fd6b902f93dbbd4f35ab67f1992a299d3425256e5a5",
                "message": "2019-02-15 19:12:37.335762366 +0000 UTC m=+58.000586724",
                "millis": 1550257957,
                "signature": "303d021c1fe29cbd9cb8823a96746be129f88ab0c736e8760da0203a4afb9bbf021d0083a020db2323a3afd1bcef1c8224eeac870548fd9263fb83b141bf68"
              }
            }
          }
        }
      }
    },
    "/profile": {
      "post": {
        "tags": ["profile"],
        "summary": "Create a connection profile using prefered provider",
        "description": "Create a connection profile using prefered provider. Choose between, public node, private node, infura, etc",
        "operationId": "profile",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "required": true,
            "name": "profile",
            "schema": {
              "example": {
                "networkId": 1,
                "peer":"http://172.168.0.2",
                "mode":"geth",
                "port":8545,
                "address": "0xde0b295669a9fd93d5f28d9ec85e40f4cb697bae",
                "key": "0xde0b295669a9fd93d5f28d9ec85e40f4cb697bae"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "profile creation response",
            "schema": {
              "example": {
                "id": 0,
                "code": 200,
                "msg": "profile token successfully created",
                "result": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"
              }
            }
          }
        }
      }
    },
    "/profile/count": {
      "get": {
        "tags": ["profile"],
        "summary": "Count created profiles",
        "description": "Get the number of profiles created in last cycle",
        "operationId": "profile-count",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "parameters": [],
        "responses": {
          "200": {
            "description": "profile count response",
            "schema": {
              "example": 10
            }
          }
        }
      }
    },
    "/mnemonic/bip39": {
      "post": {
        "tags": ["wallet"],
        "summary": "Generate a bip39 mnemonic",
        "description": "Generate a bip39 mnemonic with given customization details such as language, length, etc",
        "operationId": "mnemonic-bip39",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "parameters": [
          {
            "in": "body",
            "required": true,
            "name": "configuration",
            "schema": {
              "example": {
                "language": "english",
                "size": 192
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "mnemonic response",
            "schema": {
              "example": 10
            }
          }
        }
      }
    }
  },
  "securityDefinitions": {
    "token": {
      "type": "apiKey",
      "name": "authorization",
      "in": "header"
    }
  },
  "definitions": {},
  "externalDocs": {
    "description": "Find out more about Etherniti, an Ethereum REST API Proxy at https://www.etherniti.org",
    "url": "https://www.etherniti.org"
  }
}